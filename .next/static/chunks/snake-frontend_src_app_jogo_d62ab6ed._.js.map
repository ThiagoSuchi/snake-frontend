{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suporte%20N1/snake-frontend/src/app/jogo/JogarDeNovo.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport \"@fontsource/press-start-2p\";\r\n\r\ninterface JogarDeNovoProps {\r\n  onRestart: () => void;\r\n}\r\n\r\nconst JogarDeNovo: React.FC<JogarDeNovoProps> = ({ onRestart }) => {\r\n  const [hoverRestart, setHoverRestart] = useState(false);\r\n  const [hoverMenu, setHoverMenu] = useState(false);\r\n\r\n  const baseStyle: React.CSSProperties = {\r\n    padding: \"12px 20px\",\r\n    borderRadius: \"5px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: \"bold\",\r\n    transition: \"background 0.2s, color 0.2s, border-color 0.2s\",\r\n    textDecoration: \"none\",\r\n    display: \"block\",\r\n    textAlign: \"center\",\r\n    fontFamily: \"'Press Start 2P', cursive\", \r\n  };\r\n\r\n  const restartButtonStyle: React.CSSProperties = {\r\n    ...baseStyle,\r\n    fontSize: \"1.2em\",\r\n    background: hoverRestart ? \"yellow\" : \"white\",\r\n    color: \"black\",\r\n    border: \"none\",\r\n    boxShadow: hoverRestart ? \"0 4px 0 #ccaa00\" : \"0 4px 0 #333\",\r\n  };\r\n\r\n  const menuLinkStyle: React.CSSProperties = {\r\n    ...baseStyle,\r\n    fontSize: \"1.1em\",\r\n    background: hoverMenu ? \"yellow\" : \"transparent\",\r\n    color: hoverMenu ? \"black\" : \"white\",\r\n    border: hoverMenu ? \"2px solid yellow\" : \"2px solid white\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: \"rgba(0, 0, 0, 0.9)\",\r\n        zIndex: 10,\r\n      }}\r\n    >\r\n      <h2\r\n        style={{\r\n          color: \"yellow\",\r\n          fontSize: \"2.5em\",\r\n          marginBottom: \"30px\",\r\n          fontFamily: \"'Press Start 2P', cursive\", \r\n          letterSpacing: \"2px\",\r\n          textShadow: `\r\n            2px 2px 0 #000,\r\n            -2px 2px 0 #000,\r\n            2px -2px 0 #000,\r\n            -2px -2px 0 #000\r\n          `,\r\n        }}\r\n      >\r\n        GAME OVER!\r\n      </h2>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"15px\",\r\n          width: \"80%\",\r\n          maxWidth: \"250px\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={onRestart}\r\n          style={restartButtonStyle}\r\n          onMouseEnter={() => setHoverRestart(true)}\r\n          onMouseLeave={() => setHoverRestart(false)}\r\n          title=\"Inicia uma nova partida\"\r\n        >\r\n          JOGAR DE NOVO\r\n        </button>\r\n\r\n        <Link\r\n          href=\"/\"\r\n          style={menuLinkStyle}\r\n          onMouseEnter={() => setHoverMenu(true)}\r\n          onMouseLeave={() => setHoverMenu(false)}\r\n        >\r\n          VOLTAR AO MENU\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JogarDeNovo;\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;;AAUA,MAAM,cAA0C;QAAC,EAAE,SAAS,EAAE;;IAC5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8LAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8LAAQ,EAAC;IAE3C,MAAM,YAAiC;QACrC,SAAS;QACT,cAAc;QACd,QAAQ;QACR,YAAY;QACZ,YAAY;QACZ,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,YAAY;IACd;IAEA,MAAM,qBAA0C;QAC9C,GAAG,SAAS;QACZ,UAAU;QACV,YAAY,eAAe,WAAW;QACtC,OAAO;QACP,QAAQ;QACR,WAAW,eAAe,oBAAoB;IAChD;IAEA,MAAM,gBAAqC;QACzC,GAAG,SAAS;QACZ,UAAU;QACV,YAAY,YAAY,WAAW;QACnC,OAAO,YAAY,UAAU;QAC7B,QAAQ,YAAY,qBAAqB;IAC3C;IAEA,qBACE,kNAAC;QACC,OAAO;YACL,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,SAAS;YACT,eAAe;YACf,gBAAgB;YAChB,YAAY;YACZ,iBAAiB;YACjB,QAAQ;QACV;;0BAEA,kNAAC;gBACC,OAAO;oBACL,OAAO;oBACP,UAAU;oBACV,cAAc;oBACd,YAAY;oBACZ,eAAe;oBACf,YAAa;gBAMf;0BACD;;;;;;0BAID,kNAAC;gBACC,OAAO;oBACL,SAAS;oBACT,eAAe;oBACf,KAAK;oBACL,OAAO;oBACP,UAAU;gBACZ;;kCAEA,kNAAC;wBACC,SAAS;wBACT,OAAO;wBACP,cAAc,IAAM,gBAAgB;wBACpC,cAAc,IAAM,gBAAgB;wBACpC,OAAM;kCACP;;;;;;kCAID,kNAAC,+LAAI;wBACH,MAAK;wBACL,OAAO;wBACP,cAAc,IAAM,aAAa;wBACjC,cAAc,IAAM,aAAa;kCAClC;;;;;;;;;;;;;;;;;;AAMT;GAjGM;KAAA;uCAmGS","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suporte%20N1/snake-frontend/src/app/jogo/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport JogarDeNovo from \"./JogarDeNovo\";\r\nimport \"@fontsource/press-start-2p\";\r\n\r\nconst CELL_SIZE = 30;\r\nconst GRID_SIZE = 30;\r\n\r\nconst SNAKE_COLOR = \"limegreen\";\r\nconst APPLE_COLOR = \"yellow\";\r\nconst GRID_COLOR_DARK = \"#1a1a1a\";\r\nconst GRID_COLOR_LIGHT = \"#2e2e2e\";\r\n\r\nconst INITIAL_SNAKE = [{ x: 8, y: 8 }];\r\nconst INITIAL_APPLE = { x: 12, y: 12 };\r\n\r\nexport default function Page() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  const [snake, setSnake] = useState(INITIAL_SNAKE);\r\n  const [apple, setApple] = useState(INITIAL_APPLE);\r\n  const [direction, setDirection] = useState(\"RIGHT\");\r\n  const [score, setScore] = useState(0);\r\n  const [isDead, setIsDead] = useState(false);\r\n\r\n  const playerName =\r\n    typeof window !== \"undefined\" ? localStorage.getItem(\"nomeJogador\") : \"\";\r\n  const playerId =\r\n    typeof window !== \"undefined\" ? localStorage.getItem(\"jogadorId\") : \"\";\r\n\r\n  function draw(ctx: CanvasRenderingContext2D) {\r\n    // fundo quadriculado\r\n    for (let x = 0; x < GRID_SIZE; x++) {\r\n      for (let y = 0; y < GRID_SIZE; y++) {\r\n        ctx.fillStyle = (x + y) % 2 === 0 ? GRID_COLOR_DARK : GRID_COLOR_LIGHT;\r\n        ctx.fillRect(x * CELL_SIZE, y * CELL_SIZE, CELL_SIZE, CELL_SIZE);\r\n      }\r\n    }\r\n    // cobra\r\n    ctx.fillStyle = SNAKE_COLOR;\r\n    snake.forEach((seg) => {\r\n      ctx.fillRect(seg.x * CELL_SIZE, seg.y * CELL_SIZE, CELL_SIZE, CELL_SIZE);\r\n    });\r\n    // ma√ß√£\r\n    ctx.fillStyle = APPLE_COLOR;\r\n    ctx.fillRect(apple.x * CELL_SIZE, apple.y * CELL_SIZE, CELL_SIZE, CELL_SIZE);\r\n  }\r\n\r\n  function gameOver() {\r\n    setIsDead(true);\r\n    if (playerId) {\r\n      axios.put(`http://localhost:4000/jogadores/${playerId}/score`, { score });\r\n    }\r\n  }\r\n\r\n  function restartGame() {\r\n    setSnake(INITIAL_SNAKE);\r\n    setApple(INITIAL_APPLE);\r\n    setDirection(\"RIGHT\");\r\n    setScore(0);\r\n    setIsDead(false);\r\n  }\r\n\r\n  function gameLoop(ctx: CanvasRenderingContext2D) {\r\n    draw(ctx);\r\n\r\n    const head = { ...snake[0] };\r\n    if (direction === \"UP\") head.y--;\r\n    if (direction === \"DOWN\") head.y++;\r\n    if (direction === \"LEFT\") head.x--;\r\n    if (direction === \"RIGHT\") head.x++;\r\n\r\n    // colis√£o parede\r\n    if (head.x < 0 || head.y < 0 || head.x >= GRID_SIZE || head.y >= GRID_SIZE) {\r\n      gameOver();\r\n      return;\r\n    }\r\n    // colis√£o corpo\r\n    if (snake.some((seg, i) => i !== 0 && seg.x === head.x && seg.y === head.y)) {\r\n      gameOver();\r\n      return;\r\n    }\r\n\r\n    let newSnake = [head, ...snake];\r\n\r\n    // comeu ma√ß√£\r\n    if (head.x === apple.x && head.y === apple.y) {\r\n      setScore((s) => s + 10);\r\n      let newApple;\r\n      do {\r\n        newApple = {\r\n          x: Math.floor(Math.random() * GRID_SIZE),\r\n          y: Math.floor(Math.random() * GRID_SIZE),\r\n        };\r\n      } while (newSnake.some((seg) => seg.x === newApple.x && seg.y === newApple.y));\r\n      setApple(newApple);\r\n    } else {\r\n      newSnake.pop();\r\n    }\r\n\r\n    setSnake(newSnake);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const ctx = canvasRef.current?.getContext(\"2d\");\r\n    if (!ctx || isDead) return;\r\n\r\n    const interval = setInterval(() => {\r\n      gameLoop(ctx);\r\n    }, 150);\r\n\r\n    const handleKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"ArrowUp\" && direction !== \"DOWN\") setDirection(\"UP\");\r\n      if (e.key === \"ArrowDown\" && direction !== \"UP\") setDirection(\"DOWN\");\r\n      if (e.key === \"ArrowLeft\" && direction !== \"RIGHT\") setDirection(\"LEFT\");\r\n      if (e.key === \"ArrowRight\" && direction !== \"LEFT\") setDirection(\"RIGHT\");\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKey);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n      document.removeEventListener(\"keydown\", handleKey);\r\n    };\r\n  }, [snake, direction, apple, isDead]);\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", minHeight: \"100vh\", background: \"#111\" }}>\r\n      <h1\r\n        style={{\r\n          color: \"white\",\r\n          fontSize: \"2.5em\",\r\n          fontFamily: \"'Press Start 2P', cursive\",\r\n        }}\r\n      >\r\n        üêç SNAKE üêç\r\n      </h1>\r\n\r\n      <p style={{ color: \"white\", fontFamily: \"'Press Start 2P', cursive\" }}>\r\n        Jogador: {playerName || \"Convidado\"}\r\n      </p>\r\n      <p style={{ color: \"yellow\", fontFamily: \"'Press Start 2P', cursive\" }}>\r\n        Pontua√ß√£o: {score}\r\n      </p>\r\n\r\n      <div style={{ position: \"relative\", width: CELL_SIZE * GRID_SIZE, margin: \"20px auto\" }}>\r\n        <canvas\r\n          ref={canvasRef}\r\n          width={CELL_SIZE * GRID_SIZE}\r\n          height={CELL_SIZE * GRID_SIZE}\r\n          style={{ border: \"2px solid white\", background: GRID_COLOR_DARK }}\r\n        />\r\n        {isDead && <JogarDeNovo onRestart={restartGame} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}